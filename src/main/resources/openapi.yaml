openapi: 3.0.0
info:
  version: 0.2.21
  title: 'TINAPI-Minka'
tags:
  - name: Action
    description: 'Endpoint related to actions (transactions) in TIN platform'
  - name: Keeper
    description: 'Endpoint to create keypairs in TIN platform'
  - name: Links
    description: 'Endpoint related to trust links in TIN platform'
  - name: Signer
    description: 'Endpoint related to addresses in TIN platform'
  - name: Wallet
    description: 'Endpoint related to wallets as entities in TIN platform'
  - name: Transfer
    description: 'Endpoint related to transfers in TIN platform'
  - name: Conciliation
    description: 'Endpoint related to conciliation process in TIN platform'
  - name: shd
    description: 'Endpoint related to SHD proyect'

paths:
  '/vendors/{vendorId}/invoices/{invoiceId}':
    get:
      summary: Get vendors
      operationId: getVendors
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      tags:
        - shd
      parameters:
        - in: path
          name: vendorId
          schema:
            type: string
          required: true
        - in: path
          name: invoiceId
          schema:
            type: string
          required: true
        - in: query
          name: customQuery
          schema:
            type: string
      responses:
        '200':
          description: dsa
          content:
            application/json:
              schema:
                  $ref: '#/components/schemas/getVendorsResponse'

  '/transfer/analytics':
    get:
      summary: Get data related to Transfers
      operationId: getTransfersAnalytics
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      tags:
        - Transfer
      parameters:
        - in: query
          name: customQuery
          schema:
            type: string
          required: true
      responses:
        '200':
          description: get of a transfers data for analytics
          content:
            application/json:
              schema:
                  $ref: '#/components/schemas/getAnalyticsResponse'
        '400':
          description: Link error message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '104':
          description: Invalid handle
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  '/transfer/{actionid}/reject':
    post:
      summary: Reject a P2P transfer
      description: ''
      operationId: rejectP2Ptranfer
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      tags:
        - Transfer
      parameters:
        - in: path
          name: actionid
          schema:
            type: string
          required: true
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/rejectTransferRequest'
      responses:
        '200':
          description: Succesful Rejection of a transfer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/createTransferResponse'
        '400':
          description: Transfer error message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  '/transfer/{actionid}/accept':
    post:
      summary: Reject a P2p transfer
      description: ''
      operationId: acceptP2Ptranfer
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      tags:
        - Transfer
      parameters:
        - in: path
          name: actionid
          schema:
            type: string
          required: true
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/acceptTransferRequest'
      responses:
        '200':
          description: Succesful ACCeptance of a transfer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/createTransferResponse'
        '400':
          description: Transfer error message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  '/transfer/{actionid}/continue':
    post:
      summary: Continue async a P2p transfer
      description: ''
      operationId: continueP2Ptranfer
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      tags:
        - Transfer
      parameters:
        - in: path
          name: actionid
          schema:
            type: string
          required: true
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/actionSigned'
      responses:
        '200':
          description: Succesful Acceptance of a transfer
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/createTransferResponse'
        '400':
          description: Transfer error message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /transfer:
    post:
      summary: Create a P2P transfer
      description: ''
      operationId: createTinTransfer
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      tags:
        - Transfer
      requestBody:
              content:
                application/json:
                  schema:
                    $ref: '#/components/schemas/createTransferRequest'
              required: true
      responses:
        '200':
          description: P2P TIN transfer created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/createTransferResponse'
        '400':
          description: Transfer error message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    get:
      summary: Get Transfers
      operationId: getTransfers
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      parameters:
        - in: query
          name: customQuery
          schema:
            type: string
          required: true
      tags:
        - Transfer
      responses:
        '200':
          description: get Pending transfers
          content:
            application/json:
              schema:
                  $ref: '#/components/schemas/transfers'
        '400':
          description: Link error message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '104':
          description: Invalid handle
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /link/{link_id}:
    delete:
      summary: Delete a link
      description: ''
      operationId: deleteLink
      tags:
        - Links
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      parameters:
        - in: path
          name: link_id
          schema:
            type: string
          required: true
      responses:
        '200':
          description: Succesfull deletion of a link
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LinkItem'
        '400':
          description: Link error message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /link:
    post:
      summary: Create a link
      description: ''
      operationId: createLink
      tags:
        - Links
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      responses:
        '200':
          description: Succesful creation of a Link
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LinkItem'
        '400':
          description: Link error message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '104':
          description: Invalid handle
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/createLinkRequest'
        required: true
    get:
      summary: Get a link
      description: ''
      operationId: getLink
      tags:
        - Links
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      parameters:
        - in: query
          name: source
          schema:
            type: string
        - in: query
          name: target
          schema:
            type: string
        - in: query
          name: type
          schema:
            type: string
      responses:
        '200':
          description: Succesful get of a link
          content:
            application/json:
              schema:
                  $ref: '#/components/schemas/Links'
        '400':
          description: Link error message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '104':
          description: Invalid handle
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /oauth/token:
    post:
      summary: Retrieve token
      description: ''
      operationId: getToken
      tags:
        - Token
      security:
        - BasicAuth: []
        - XNonce: []
      responses:
        '200':
          description: Token fetched
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/tokenResponse'
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              $ref: '#/components/schemas/tokenRequest'
        required: true

  /action:
    get:
      summary: Get Actions received
      description: ''
      operationId: getActions
      tags:
        - Action
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      parameters:
        - in: query
          name: customQuery
          schema:
            type: string
          required: true
      responses:
        '200':
          description: succesful get of an action
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/getTransfersResponse'
        '400':
          description: Action error message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '115':
          description: Invalid action hash
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    post:
      summary: Create an action
      description: ''
      operationId: createAction
      tags:
        - Action
      security:
              - ApiKeyAuth: []
              - oAuth2ClientCredentials: []
              - XNonce: []
      responses:
        '200':
          description: Succesful creation of an action
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/createActionResponse'
        '400':
          description: Action error message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '106':
          description: Invalid source
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '107':
          description: Invalid destination
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '108':
          description: Invalid symbol
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '109':
          description: Invalid amount
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '110':
          description: Unsupported action type
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '111':
          description: Rejection reason not defined
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '112':
          description: Not enough balance
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '113':
          description: Keys are not available
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/createActionRequest'
        required: true

  /action/unsigned:
    get:
      summary: Get unsigned actions
      description: ''
      operationId: getPending
      tags:
        - Action
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      parameters:
        - in: query
          name: type
          schema:
            type: string
            enum:
              - REQUEST
              - SEND
        - in: query
          name: target
          schema:
            type: string
        - in: query
          name: source
          schema:
            type: string
      responses:
        '200':
          description: Succesful get of unsigned action(s)
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/getActionResponse'
        '400':
          description: Domain error message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  '/action/{action_id}':
    get:
      summary: Get an action by action_id
      description: ''
      operationId: getActionByActionId
      tags:
        - Action
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      parameters:
        - in: path
          name: action_id
          schema:
            type: string
          required: true
      responses:
        '200':
          description: Succesful get of an action
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/getActionResponse'
        '400':
          description: Action error message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    put:
      summary: Update labels of an action
      description: ''
      operationId: updateActionLabels
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      tags:
        - Action
      parameters:
        - in: path
          name: action_id
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/getActionResponse'
        '400':
          description: Domain error message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '115':
          description: Invalid action hash
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '116':
          description: Field is not allowed to be changed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/updateActionRequest'
        required: true

  '/action/{actionid}/signed':
    post:
      summary: Sign action
      description: ''
      operationId: signAction
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      tags:
        - Action
      parameters:
        - in: path
          name: actionid
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/actionSigned'
        '400':
          description: Domain error message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/actionSignedLabels'

  '/action/{actionid}/sendit':
    post:
      summary: Sign offline
      description: ''
      operationId: signOffline
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      tags:
        - Action
      parameters:
        - in: path
          name: actionid
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/actionSigned'
        '400':
          description: Domain error message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/iouSigned'
        required: true

  /conciliation:
    get:
      summary: Generates a conciliation txt file
      description: ''
      operationId: getConciliation
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      tags:
        - Conciliation
      parameters:
        - in: query
          name: customQuery
          schema:
            type: string
          required: true
      responses:
        '200':
          description: Conciliation file generated
          content:
            application/json:
              schema:
               $ref: '#/components/schemas/conciliation'
        '400':
          description: Forbidden ac
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /keeper:
    get:
      summary: Genera un keeper
      description: ''
      operationId: obtenerKeeper
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      tags:
        - Keeper
      responses:
        '200':
          description: Keypair generated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Keeper'
        '400':
          description: Forbidden ac
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  /signer/{signerAddress}:
    delete:
      summary: Delete signer
      description: ''
      operationId: deleteSignerByAddress
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      tags:
        - Signer
      parameters:
        - in: path
          name: signerAddress
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/signerResponse'
        '100':
          description: You don't have permissions to access this method.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '104':
          description: Invalid handle.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    get:
      summary: Obtiene un signer por address
      description: ''
      operationId: getSignerByAddress
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      tags:
        - Signer
      parameters:
        - in: path
          name: signerAddress
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/signerResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    put:
      summary: Actualiza un signer
      description: ''
      operationId: updateSigner
      tags:
        - Signer
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      parameters:
        - in: path
          name: signerAddress
          schema:
            type: string
          required: true
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/signerRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/signerResponse'
        '100':
          description: You don't have permissions to access this method.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /signer:
    get:
      summary: Obtiene un signer
      description: ''
      operationId: getSigners
      tags:
        - Signer
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      parameters:
        - in: query
          name: customQuery
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/signerListResponse'
        '100':
          description: You don't have permissions to access this method.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '104':
          description: Invalid handle.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
    post:
      summary: Crea un signer
      description: ''
      operationId: createSigner
      security:
            - ApiKeyAuth: []
            - oAuth2ClientCredentials: []
            - XNonce: []
      tags:
        - Signer
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/signerResponse'
        '100':
          description: You don't have permissions to access this method.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/signerRequest'
        required: true

  /custom/signer/{signerAddress}:
    put:
      summary: Actualiza un signer
      description: ''
      operationId: updateSignerCustom
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      parameters:
        - in: path
          name: signerAddress
          schema:
            type: string
          required: true
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/signerRequest'
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericResponse'
        '100':
          description: You don't have permissions to access this method.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  '/custom/action/{action_id}':
    put:
      summary: Update labels of an action
      description: ''
      operationId: updateActionLabels2
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      parameters:
        - in: path
          name: action_id
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/GenericResponse'
        '400':
          description: Domain error message
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '115':
          description: Invalid action hash
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '116':
          description: Field is not allowed to be changed
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/updateActionRequest'
        required: true

  '/signer/{userAddress}/router/{actionId}/action':
    post:
      summary: Call action in user's Bank
      description: ''
      operationId: callAction
      tags:
        - Signer
      security:
              - ApiKeyAuth: []
              - oAuth2ClientCredentials: []
              - XNonce: []
      parameters:
        - in: path
          name: userAddress
          schema:
            type: string
          required: true
        - in: path
          name: actionId
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/createTransferResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  '/signer/{userAddress}/router/{actionId}/upload':
    post:
      summary: Call debit in user's bank
      description: ''
      operationId: callUpload
      tags:
        - Signer
      security:
              - ApiKeyAuth: []
              - oAuth2ClientCredentials: []
              - XNonce: []
      parameters:
        - in: path
          name: userAddress
          schema:
            type: string
          required: true
        - in: path
          name: actionId
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/createTransferResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  '/signer/{solicitanteAddress}/router/{actionId}/status':
    post:
      summary: Notify status
      description: ''
      operationId: callStatus
      tags:
        - Signer
      security:
              - ApiKeyAuth: []
              - oAuth2ClientCredentials: []
              - XNonce: []
      parameters:
        - in: header
          name: API_KEY
          schema:
            type: string
          required: true
        - in: path
          name: solicitanteAddress
          schema:
            type: string
          required: true
        - in: path
          name: actionId
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  '/signer/{solicitanteAddress}/router/{actionId}/download':
    post:
      summary: Call credit in user's bank
      description: ''
      operationId: callDownload
      tags:
        - Signer
      security:
              - ApiKeyAuth: []
              - oAuth2ClientCredentials: []
              - XNonce: []
      parameters:
        - in: header
          name: API_KEY
          schema:
            type: string
          required: true
        - in: path
          name: solicitanteAddress
          schema:
            type: string
          required: true
        - in: path
          name: actionId
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/createTransferResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  /wallet:
    get:
      summary: Obtiene un wallet por signer
      description: ''
      operationId: getWalletBySigner
      tags:
        - Wallet
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      parameters:
        - in: query
          name: customQuery
          schema:
            type: string
          required: false

      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/walletsResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '104':
          description: Invalid handle
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

    post:
      summary: Create a wallet
      description: ''
      operationId: createWallet
      tags:
        - Wallet
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/walletResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '104':
          description: Invalid handle
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/walletRequest'
        required: true
  '/wallet/{solicitadoAlias}/channel/sms':
    post:
      summary: Send sms
      description: ''
      operationId: sendSms
      tags:
        - Wallet
      security:
              - ApiKeyAuth: []
              - oAuth2ClientCredentials: []
              - XNonce: []
      parameters:
        - in: header
          name: API_KEY
          schema:
            type: string
          required: true
        - in: path
          name: solicitadoAlias
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/smsRequest'
        required: true
  '/wallet/{handle}/balance':
    get:
      summary: Get default account  balance of a wallet
      description: ''
      operationId: getBalance
      tags:
        - Wallet
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      parameters:
        - in: path
          name: handle
          schema:
            type: string
          required: true
        - in: query
          name: unit
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/balanceResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
  '/wallet/{handle}':
    put:
      summary: Edit a wallet
      description: ''
      operationId: updateWallet
      tags:
        - Wallet
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      parameters:
        - in: path
          name: handle
          required: true
          schema:
            type: string
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/walletUpdateResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/walletUpdateRequest'
        required: true
    get:
      summary: Get a wallet
      description: ''
      operationId: getWalletByAlias
      tags:
        - Wallet
      security:
        - ApiKeyAuth: []
        - oAuth2ClientCredentials: []
        - XNonce: []
      parameters:
        - in: path
          name: handle
          schema:
            type: string
          required: true
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/getWalletResponse'
        '100':
          description: You don't have permissions to access this method
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
        '102':
          description: Invalid labels
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

servers:
  - url: 'https://achtin-tst.minka.io/v1'
components:
  securitySchemes:
    BasicAuth:
      type: http
      scheme: basic
    XNonce:
      type: apiKey
      in: header
      name: x-nonce
    ApiKeyAuth:
      type: apiKey
      in: header
      name: x-api-key
    oAuth2ClientCredentials:
      type: oauth2
      description: Simple credentials
      flows:
        clientCredentials:
          tokenUrl: https://achtin-stg.minka.io/oauth/token
          scopes: {} # tin ach does not use scopes
  schemas:
    getVendorsResponse:
      type: object
      properties:
        target:
          type: string
        amount:
          type: string
        symbol:
          type: string
        error:
          type: object
          properties:
            code:
              type: string
            message:
              type: string
        labels:
          type: object
          properties:
            tx_id:
              type: string
            type:
              type: string
            status:
              type: string
            domain:
              type: string
            detail:
              type: string
            nature:
              type: string
            processor:
              type: string
            branch:
              type: string
            environment:
              type: string
            invoice:
              type: string
            subscription:
              type: string
            created:
              type: string
            updated:
              type: string
        expirationDate:
          type: string
        invoiceStatus:
          type: string
        value2:
          type: string
        responseDate:
          type: string
        responseType:
          type: string
    Keeper:
      type: object
      properties:
        scheme:
          type: string
        public:
          type: string
        secret:
          type: string

    offlineSigningKeys:
      type: object
      properties:
        keeper:
          type: array
          items:
            $ref: '#/components/schemas/publicKeys'

    signerRequest:
      type: object
      properties:
        keeper:
          type: array
          items:
            $ref: '#/components/schemas/publicKeys'
        labels:
          type: object
          properties:
            personType:
              type: string
            name:
              type: string
            language:
              type: string
            description:
              type: string
            firstName:
              type: string
            lastName:
              type: string
            email:
              type: string
            mobile:
              type: string
            identification:
              type: string
            proprietary:
              type: string
            countryOfResidence:
              type: string
            sourceChannel:
              type: string
            bankAccountNumber:
              type: string
            bankAccountType:
              type: string
            bankBicfi:
              type: string
            bankName:
              type: string
            routerReference:
              type: string
            routerUpload:
              type: string
            routerDownload:
              type: string
            routerAction:
              type: string
            routerStatus:
              type: string
            routerAuthMethod:
              type: string
            routerAuthParams:
              type: object
              additionalProperties: true
            routerFormat:
              type: string
            personType:
              type: string
            name:
              type: string
            language:
              type: string

    signerLabelsResponse:
      type: object
      properties:
        personType:
          type: string
        name:
          type: string
        language:
          type: string
        createdBy:
          type: string
        description:
          type: string
        firstName:
          type: string
        lastName:
          type: string
        email:
          type: string
        mobile:
          type: string
        identification:
          type: string
        proprietary:
          type: string
        countryOfResidence:
          type: string
        sourceChannel:
          type: string
        bankAccountNumber:
          type: string
        bankAccountType:
          type: string
        bankBicfi:
          type: string
        bankName:
          type: string
        routerReference:
          type: string
        routerUpload:
          type: string
        routerDownload:
          type: string
        routerAction:
          type: string
        routerStatus:
          type: string
        routerAuthMethod:
          type: string
        routerAuthParams:
          type: object
          additionalProperties: true
        routerFormat:
          type: string
        personType:
          type: string
        name:
          type: string
        language:
          type: string


    publicKeys:
      type: object
      properties:
        public:
          type: string
        secret:
          type: string
        scheme:
          type: string

    walletRequest:
      type: object
      properties:
        handle:
          type: string
        labels:
          type: object
          properties:
            type:
              type: string
            channelSms:
              type: string
            routerUpload:
              type: string
            routerDownload:
              type: string
            routerAction:
              type: string
            routerStatus:
              type: string
            routerAuthMethod:
              type: string
            routerAuthParams:
              type: object
              additionalProperties: true
            routerFormat:
              type: string

    getWalletResponse:
      type: object
      properties:
        signer:
          type: array
          items:
            type: string
        'default':
          type: string
        wallet_id:
          type: string
        labels:
          type: object
          properties:
            type:
              type: string
            channelSms:
              type: string
            routerUpload:
              type: string
            routerDownload:
              type: string
            routerAction:
              type: string
            routerStatus:
              type: string
            routerAuthMethod:
              type: string
            routerAuthParams:
              type: object
              additionalProperties: true
            routerFormat:
              type: string
        handle:
          type: string
        id:
          type: string
        error:
          type: object
          $ref: '#/components/schemas/ErrorGenerico'
    walletResponse:
      type: object
      properties:
        signer:
          type: array
          items:
            type: string
        default:
          type: string
        wallet_id:
          type: string
        labels:
          type: object
          properties:
            type:
              type: string
            channelSms:
              type: string
            routerUpload:
              type: string
            routerDownload:
              type: string
            routerAction:
              type: string
            routerStatus:
              type: string
            routerAuthMethod:
              type: string
            routerAuthParams:
              type: object
              additionalProperties: true
            routerFormat:
              type: string
        handle:
          type: string
        error:
          type: object
          $ref: '#/components/schemas/ErrorGenerico'

    walletsResponse:
      type: object
      properties:
        entities:
          items:
            $ref: '#/components/schemas/walletResponse'
        pagination:
          type: object
          $ref: '#/components/schemas/pagination'
        error:
          type: object
          $ref: '#/components/schemas/ErrorGenerico'


    walletSnapshotResponse:
      type: object
      properties:
        default:
          type: string
        labels:
          type: object
          properties:
            type:
              type: string
            channelSms:
              type: string
            routerUpload:
              type: string
            routerDownload:
              type: string
            routerAction:
              type: string
            routerStatus:
              type: string
            routerAuthMethod:
              type: string
            routerAuthParams:
              type: object
              additionalProperties: true
            routerFormat:
              type: string
        handle:
          type: string
        error:
          type: object
          $ref: '#/components/schemas/ErrorGenerico'

    walletUpdateRequest:
      type: object
      properties:
        default:
          type: string
        signer:
          type: array
          items:
            type: string
    walletUpdateResponse:
      type: object
      properties:
        id:
          type: string
        labels:
          type: object
          properties:
            type:
              type: string
            channelSms:
              type: string
            routerUpload:
              type: string
            routerDownload:
              type: string
            routerAction:
              type: string
            routerStatus:
              type: string
            routerAuthMethod:
              type: string
            routerAuthParams:
              type: object
              additionalProperties: true
            routerFormat:
              type: string
        handle:
          type: string
        wallet_id:
          type: string
        signer:
          type: array
          items:
            type: string
        default:
          type: string
        error:
          $ref: '#/components/schemas/ErrorGenerico'
    signerResponse:
      type: object
      properties:
        handle:
          type: string
        signer_id:
          type: string
        keeper:
          type: array
          items:
            $ref: '#/components/schemas/publicKeys'
        labels:
          $ref: '#/components/schemas/signerLabelsResponse'
        pagination:
          type: object
          $ref: '#/components/schemas/pagination'
        error:
          type: object
          $ref: '#/components/schemas/ErrorGenerico'

    signerSnapshotResponse:
      type: object
      properties:
        handle:
          type: string
        labels:
          $ref: '#/components/schemas/signerLabelsResponse'
        error:
          type: object
          $ref: '#/components/schemas/ErrorGenerico'

    signerListResponse:
      type: object
      properties:
        entities:
          type: array
          items:
           $ref: '#/components/schemas/signerResponse'

    walletListResponse:
          type: array
          items:
            $ref: '#/components/schemas/walletResponse'

    domainResponse:
      type: object
      properties:
        domain_id:
          type: string
    createActionStoreRequest:
      type: object
      properties:
        source:
          type: string
        target:
          type: string
        symbol:
          type: string
        amount:
          type: string
        labels:
          type: object
          additionalProperties: true
    createClaimRequest:
      type: object
      properties:
        source:
          type: string
        target:
          type: string
        symbol:
          type: string
        amount:
          type: string
    createClaimResponse:
      type: object
      properties:
        claims:
          type: object
          $ref: '#/components/schemas/claims'
        error:
          type: object
          $ref: '#/components/schemas/ErrorGenerico'
    claims:
      type: object
      properties:
        expiry:
          type: string
        source:
          type: string
        target:
          type: string
        symbol:
          type: string
        amount:
          type: string
    createIouRequest:
      type: object
      properties:
        claims:
          type: object
          $ref: '#/components/schemas/claims'
        keeper:
          type: array
          items:
            $ref: '#/components/schemas/Keeper'
    iouSigned:
      type: object
      properties:
        data:
          type: object
          properties:
            amount:
              type: string
            domain:
              type: string
            expiry:
              type: string
            random:
              type: string
            source:
              type: string
            symbol:
              type: string
            target:
              type: string
        hash:
          type: object
          properties:
            types:
              type: string
            steps:
              type: string
            value:
              type: string
        meta:
          type: object
          properties:
            signatures:
              type: array
              items:
                $ref: '#/components/schemas/Signatures'
    Signatures:
      type: object
      properties:
        scheme:
          type: string
        signer:
          type: string
        public:
          type: string
        string:
          type: string

    balanceResponse:
      type: object
      properties:
        amount:
          type: string
        error:
          type: object
          properties:
            code:
              type: integer
            message:
              type: string

    createActionRequest:
      type: object
      properties:
        source:
          type: string
        target:
          type: string
        symbol:
          type: string
        amount:
          type: string
        labels:
          type: object
          properties:
            serial:
              type: string
            authorization:
              type: string
            environment:
              type: string
            branch:
              type: string
            processor:
              type: string
            subscription:
              type: string
            invoice:
              type: string
            nature:
              type: string
            detail:
              type: string
            domain:
              type: string
            tx_id:
              type: string
            tx_ref:
              type: string
            status:
              type: string
            created:
              type: string
            sourceCreated:
              type: string
            sourceChannel:
              type: string
            targetUpdated:
              type: string
            description:
              type: string
            type:
              type: string
            rejectSource:
              type: string
            rejectDescription:
              type: string
            transactionPurpose:
              type: string
            numberOftransactions:
              type: string
            deviceFingerPrint:
              type: object
              $ref: '#/components/schemas/deviceFingerPrint'
            domain:
              type: string
            atm:
              type: string
            authorizationCode:
              type: string
            serialCode:
              type: string
            sourceDate:
              type: string
            language:
              type: string
            reference:
              type: string
            value:
              type: string
            date:
              type: string
            projectCode:
               type: string

    createActionResponse:
      type: object
      properties:
        action_id:
          type: string
        source:
          type: string
        target:
          type: string
        symbol:
          type: string
        amount:
          type: string
        snapshot:
          type: object
          $ref: '#/components/schemas/Snapshot'
        labels:
          type: object
          properties:
            tx_id:
              type: string
            tx_ref:
              type: string
            status:
              type: string
            domain:
              type: string
            detail:
              type: string
            nature:
              type: string
            invoice:
              type: string
            subscription:
              type: string
            processor:
              type: string
            branch:
              type: string
            environment:
              type: string
            authorization:
              type: string
            serial:
              type: string
            created:
              type: string
            updated:
              type: string
            hash:
              type: string
            sourceCreated:
              type: string
            sourceChannel:
              type: string
            targetUpdated:
              type: string
            description:
              type: string
            type:
              type: string
            rejectSource:
              type: string
            rejectDescription:
              type: string
            transactionPurpose:
              type: string
            numberOftransactions:
              type: string
            deviceFingerPrint:
              type: object
              $ref: '#/components/schemas/deviceFingerPrint'
            error:
              type: object
              $ref: '#/components/schemas/ErrorGenerico'
            domain:
              type: string
            atm:
              type: string
            authorizationCode:
              type: string
            serialCode:
              type: string
            sourceDate:
              type: string
            language:
              type: string
            reference:
              type: string
            value:
              type: string
            date:
              type: string
            projectCode:
               type: string

    ErrorForbidden:
      type: object
      properties:
        error:
          type: string
    ErrorResponse:
      type: object
      properties:
        error:
          type: object
          $ref: '#/components/schemas/ErrorGenerico'
    ErrorGenerico:
      type: object
      properties:
        code:
          type: integer
        message:
          type: string
    smsRequest:
      type: object
      properties:
        message:
          type: string
    updateActionRequest:
      type: object
      properties:
        snapshot:
          type: object
          $ref: '#/components/schemas/Snapshot'
        labels:
          type: object
          properties:
            status:
              type: string

    createLinkRequest:
      type: object
      properties:
        source:
          type: string
        target:
          type: string
        type:
          enum:
            - TRUST
            - BLOCK
    getLinkResponse:
      type: object
      properties:
        source:
          type: string
        target:
          type: string
        type:
          enum:
            - TRUST
            - BLOCK
        error:
          type: object
          $ref: '#/components/schemas/ErrorGenerico'

    ListLinks:
      type: array
      items:
        $ref: '#/components/schemas/LinkItem'

    Links:
      type: object
      properties:
        entities:
          type: array
          items:
            $ref: '#/components/schemas/LinkItem'
        pagination:
          type: object
          $ref: '#/components/schemas/pagination'
        error:
          type: object
          $ref: '#/components/schemas/ErrorGenerico'

    LinkItem:
      type: object
      properties:
        id:
          type: string
        source:
          type: string
        target:
          type: string
        created:
          type: string
        link_id:
          type: string
        'type':
          type: string
        error:
          type: object
          $ref: '#/components/schemas/ErrorGenerico'

    getActionResponse:
      properties:
        action_id:
          type: string
        source:
          type: string
        symbol:
          type: string
        target:
          type: string
        amount:
          type: string
        snapshot:
          type: object
          $ref: '#/components/schemas/Snapshot'
        labels:
          type: object
          properties:
            tx_id:
              type: string
            tx_ref:
              type: string
            status:
              type: string
            created:
              type: string
            hash:
              type: string
            sourceCreated:
              type: string
            sourceChannel:
              type: string
            targetUpdated:
              type: string
            description:
              type: string
            type:
              type: string
            rejectSource:
              type: string
            rejectDescription:
              type: string
            transactionPurpose:
              type: string
            numberOftransactions:
              type: string
            deviceFingerPrint:
              type: object
              $ref: '#/components/schemas/deviceFingerPrint'
            error:
              type: object
              $ref: '#/components/schemas/ErrorGenerico'
            domain:
              type: string
            atm:
              type: string
            authorizationCode:
              type: string
            serialCode:
              type: string
            sourceDate:
              type: string
            language:
              type: string
            reference:
              type: string
            value:
              type: string
            date:
              type: string
            projectCode:
               type: string

    actionSignedLabels:
      properties:
        labels:
          type: object
          properties:
            tx_id:
              type: string
            tx_ref:
              type: string
            status:
              type: string
            created:
              type: string
            sourceCreated:
              type: string
            sourceChannel:
              type: string
            targetUpdated:
              type: string
            description:
              type: string
            type:
              type: string
            rejectSource:
              type: string
            rejectDescription:
              type: string
            transactionPurpose:
              type: string
            numberOftransactions:
              type: string
            deviceFingerPrint:
              type: object
              $ref: '#/components/schemas/deviceFingerPrint'
            domain:
              type: string
            atm:
              type: string
            authorizationCode:
              type: string
            serialCode:
              type: string
            sourceDate:
              type: string
            language:
              type: string
            reference:
              type: string
            value:
              type: string
            date:
              type: string
            projectCode:
               type: string

    actionSigned:
      properties:
        action_id:
          type: string
        source:
          type: string
        symbol:
          type: string
        target:
          type: string
        amount:
          type: string
        snapshot:
          type: object
          $ref: '#/components/schemas/Snapshot'
        labels:
          type: object
          properties:
            tx_id:
              type: string
            tx_ref:
              type: string
            status:
              type: string
            created:
              type: string
            hash:
              type: string
            description:
              type: string
            type:
              type: string
            sourceCreated:
              type: string
            sourceChannel:
              type: string
            domain:
              type: string
            atm:
              type: string
            authorizationCode:
              type: string
            serialCode:
              type: string
            sourceDate:
              type: string
            language:
              type: string
            reference:
              type: string
            value:
              type: string
            date:
              type: string
            projectCode:
               type: string
        error:
          type: object
          properties:
          $ref: '#/components/schemas/ErrorGenerico'

    getTransfersResponse:
      type: object
      properties:
        entities:
          type: array
          items:
            $ref: '#/components/schemas/getActionResponse'
        pagination:
          type: object
          $ref: '#/components/schemas/pagination'
        error:
          type: object
          $ref: '#/components/schemas/ErrorGenerico'

    pendingActionResponse:
      type: array
      items:
        $ref: '#/components/schemas/getActionResponse'
    genericResponse:
      type: object
      additionalProperties: true

    createTransferRequest:
      type: object
      properties:
        action_id:
          type: string
        source:
          type: string
        target:
          type: string
        symbol:
          type: string
        amount:
          type: string
        labels:
          type: object
          properties:
            processor:
              type: string
            branch:
              type: string
            environment:
              type: string
            auhorization:
              type: string
            serial:
              type: string
            detail:
              type: string
            nature:
              type: string
            invoice:
              type: string
            subscription:
              type: string
            tx_id:
              type: string
            description:
              type: string
            type:
              type: string
            tx_id:
              type: string
            description:
              type: string
            sourceCreated:
              type: string
            sourceChannel:
              type: string
            transactionPurpose:
              type: string
            numberOfTransactions:
              type: string
            deviceFingerPrint:
              $ref: '#/components/schemas/deviceFingerPrint'
            domain:
              type: string
            atm:
              type: string
            authorizationCode:
              type: string
            serialCode:
              type: string
            sourceDate:
              type: string
            language:
              type: string
            reference:
              type: string
            value:
              type: string
            date:
              type: string
            projectCode:
               type: string

    createTransferResponse:
      type: object
      properties:
        action_id:
          type: string
        source:
          type: string
        symbol:
          type: string
        target:
          type: string
        amount:
          type: string
        snapshot:
          type: object
          $ref: '#/components/schemas/Snapshot'
        labels:
          type: object
          properties:
            tx_id:
              type: string
            tx_ref:
              type: string
            status:
              type: string
            created:
              type: string
            hash:
              type: string
            sourceCreated:
              type: string
            sourceChannel:
              type: string
            targetUpdated:
              type: string
            description:
              type: string
            type:
              type: string
            rejectSource:
              type: string
            rejectDescription:
              type: string
            transactionPurpose:
              type: string
            numberOftransactions:
              type: string
            deviceFingerPrint:
              type: object
              $ref: '#/components/schemas/deviceFingerPrint'
            error:
              type: object
              $ref: '#/components/schemas/ErrorGenerico'
            domain:
              type: string
            atm:
              type: string
            authorizationCode:
              type: string
            serialCode:
              type: string
            sourceDate:
              type: string
            language:
              type: string
            reference:
              type: string
            value:
              type: string
            date:
              type: string
            projectCode:
               type: string
        error:
          type: object
          $ref: '#/components/schemas/ErrorGenerico'

    tokenRequest:
      type: object
      properties:
        grant_type:
          type: string
        client_id:
          type: string
        client_secret:
          type: string

    tokenResponse:
      type: object
      properties:
        access_token:
          type: string
        expires_in:
          type: integer
        token_type:
          type: string

    acceptTransferRequest:
      type: object
      properties:
        signer:
          type: object
          $ref: '#/components/schemas/signerObject'
        wallet:
          type: object
          $ref: '#/components/schemas/walletObject'

    rejectTransferRequest:
      type: object
      properties:
        signer:
          type: object
          $ref: '#/components/schemas/signerObject'
        wallet:
          type: object
          $ref: '#/components/schemas/walletObject'

    signerObject:
      type: object
      properties:
        handle:
          type: string

    walletObject:
      type: object
      properties:
        handle:
          type: string
        signer:
          type: array
          items:
            type: string
        default:
          type: string
        labels:
          type: object
          properties:
            type:
              type: string
            channelSms:
              type: string

    Snapshot:
      type: object
      properties:
        target:
          type: object
          properties:
            wallet:
              type: object
              $ref: '#/components/schemas/walletSnapshotResponse'
            signer:
              type: object
              $ref: '#/components/schemas/signerSnapshotResponse'
        source:
          type: object
          properties:
            wallet:
              type: object
              $ref: '#/components/schemas/walletSnapshotResponse'
            signer:
              type: object
              $ref: '#/components/schemas/signerSnapshotResponse'
        symbol:
          type: object
          properties:
            wallet:
              type: object
              properties:
                handle:
                  type: string
                labels:
                  type: object
                  properties:
                    type:
                      type: string
            signer:
              type: object
              properties:
                handle:
                  type: string

    deviceFingerPrint:
      type: object
      properties:
        hash:
          type: string
        ipAddress:
          type: string
        geolocation:
          type: string
        country:
          type: string
        city:
          type: string
        mobileDevice:
          type: string
        SIMCardId:
          type: string
        model:
          type: string
        operator:
          type: string

    conciliation:
      type: object
      properties:
        fileName:
          type: string
        text:
          type: string

    getAnalyticsResponse:
      type: object
      properties:
        entities:
          type: object
          properties:
            tx_ref:
              type: string
            source:
              type: string
            sourceWallet:
              type: string
            sourceSigner:
              type: string
            sourceBank:
              type: string
            sourceBankBicfi:
              type: string
            target:
              type: string
            targetWallet:
              type: string
            targetSigner:
              type: string
            targetBank:
              type: string
            targetBankBicfi:
              type: string
            amount:
              type: string
            symbol:
              type: string
            type:
              type: string
            status:
              type: string
            description:
              type: string
            created:
              type: string
            updated:
              type: string
            labels:
              type: string
            snapshot:
              type: string
            domain:
              type: string
            owner:
              type: string
        pagination:
          type: object
          $ref: '#/components/schemas/pagination'
        error:
          type: object
          $ref: '#/components/schemas/ErrorGenerico'

    pagination:
      type: object
      properties:
        pageNum:
          type: string
        pageSize:
          type: string
        totalResults:
          type: string
        filter:
          type: string

    GenericResponse:
     type: object
     additionalProperties: true

    transfers:
      type: object
      properties:
        entities:
          type: array
          items:
           $ref: '#/components/schemas/getTransferResponse'
        pagination:
          type: object
          $ref: '#/components/schemas/pagination'
        error:
          type: object
          $ref: '#/components/schemas/ErrorGenerico'

    getTransferResponse:
        type: object
        properties:
          transfer_id:
            type: string
          tx_id:
            type: string
          tx_ref:
            type: string
          source:
            type: string
          sourceWallet:
            type: string
          sourceSigner:
            type: string
          sourceSignerBalance:
            type: string
          sourceBank:
            type: string
          sourceBankBicfi:
            type: string
          target:
            type: string
          targetWallet:
            type: string
          targetSigner:
            type: string
          targetSignerBalance:
            type: string
          targetBank:
            type: string
          targetBankBicfi:
            type: string
          amount:
            type: string
          symbol:
            type: string
          type:
            type: string
          status:
            type: string
          description:
            type: string
          created:
            type: string
          updated:
            type: string
          domain:
            type: string
          owner:
            type: string
          labels:
            type: string
